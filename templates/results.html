{% extends "layout.html" %}
{% from "utils.html" import info, mutation_card, result_card %}

{% set active_page = '' %}

{% block central_content %}

<p class="text-lead">
    Sequencing mutations...
</p>

<div class="seq">
    <div id="seq-spinner"></div>

    <div id="seq-button">
        <button class="show-results" onclick="showResults()">Show results</button>
    </div>
    <div>
        {{  result_card(attributes.get('ttype').get('type') + '.svg', attributes.get('ttype').get('name'))  }}

        {{  result_card(attributes.get('ttype').get('type') + '/riskFactor1_' + attributes.get('riskFactor1').get('type') + '.svg',
                        attributes.get('riskFactor3').get('name'))  }}
        {{  result_card(attributes.get('ttype').get('type') + '/riskFactor2_' + attributes.get('riskFactor2').get('type') + '.svg',
                        attributes.get('riskFactor2').get('name'))  }}
        {{  result_card(attributes.get('ttype').get('type') + '/riskFactor3_' + attributes.get('riskFactor3').get('type') + '.svg',
                        attributes.get('riskFactor3').get('name'))  }}
    </div>

</div>

<img class="res " src="images/slides/card_explanation.png" style=" height: 473px;margin: 75px;">
<br>
<h2 class="res">
    The mutations observed in your sample:<br>
</h2>
<br>
<div class="res">
    <a onclick="downloadPDF({{ mutations.values()|list }})">
    Download results as PDF
    </a>
    </div>
<br>
<div class="res grid" id="results-grid" style="background-color: white">
    {% for mut in mutations.values() %}
        {{ mutation_card(mut) }}
    {% endfor %}
</div>

{% endblock %}


{% block script %}
{{ super() }}
    <script src="./js/results.js?v=1"></script>
{% endblock %}
